import{S as SvelteComponent,i as init,s as safe_not_equal,k as create_component,n as claim_component,p as mount_component,y as transition_in,v as transition_out,w as destroy_component,e as element,t as text,a as claim_element,b as children,h as claim_text,d as detach,f as attr,g as insert_hydration,K as append_hydration,j as set_data,l as space,o as claim_space,W as set_input_value,L as listen,x as check_outros,F as run_all,M as component_subscribe,u as group_outros}from"../../chunks/index-39b5f0d1.js";import{S as Snackbar}from"../../chunks/snackbar-679c7b66.js";import{r as roundTo}from"../../chunks/custom-math-d14d206d.js";import{X}from"../../chunks/runtime.esm-471eff3d.js";import"../../chunks/index-bd198d01.js";const SOLVER_MAX_ITERATIONS=1e4;function solveFunction(n,t){const e=getVariable(n);if(e===null)return[0,{errorOccurred:!0,message:"The function does not contain a valid variable"}];let a=0;const l=new Array;let o=0;for(;o<SOLVER_MAX_ITERATIONS;){const p=calculate(n,a,e);if(roundTo(p,5)===roundTo(t,5))return[a,{errorOccurred:!1}];l.push({variable:a,result:roundTo(p,5)}),a=calculateNextVariable(l,t),o++}return[0,{errorOccurred:!0,message:"Reached max iterations count"}]}function calculateNextVariable(n,t){let e=[];if(n.length>2)e=n.slice(n.length-3,n.length-1);else return n[n.length-1].variable+1;if(e[1].variable===e[0].variable)return e[1].variable+1;const a=t-e[1].result<t-e[0].result&&t-e[1].result>0,l=e[1].variable-e[0].variable;return a?e[1].variable+1:e[1].variable-(l-.01)}function getVariable(n){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");for(const e in t)if(n.indexOf(t[e])>-1)return t[e];return null}function calculate(func,variable,variable_letter){return eval(func.replace(variable_letter,""+variable))}var functionSolver_svelte_svelte_type_style_lang="";function create_if_block_1(n){let t,e;return t=new Snackbar({props:{message:n[3]}}),{c(){create_component(t.$$.fragment)},l(a){claim_component(t.$$.fragment,a)},m(a,l){mount_component(t,a,l),e=!0},p(a,l){const o={};l&8&&(o.message=a[3]),t.$set(o)},i(a){e||(transition_in(t.$$.fragment,a),e=!0)},o(a){transition_out(t.$$.fragment,a),e=!1},d(a){destroy_component(t,a)}}}function create_if_block(n){let t,e;return{c(){t=element("div"),e=text(n[5]),this.h()},l(a){t=claim_element(a,"DIV",{class:!0});var l=children(t);e=claim_text(l,n[5]),l.forEach(detach),this.h()},h(){attr(t,"class","result-form svelte-jcgc03")},m(a,l){insert_hydration(a,t,l),append_hydration(t,e)},p(a,l){l&32&&set_data(e,a[5])},d(a){a&&detach(t)}}}function create_fragment(n){let t,e,a,l=n[6]("general.experimental-text")+"",o,p,u,_,f,T,V,d,b,m,j,I,h,O,g,E=n[6]("general.calculate")+"",S,x,y,N,R,s=n[2]&&create_if_block_1(n),i=n[4]&&create_if_block(n);return{c(){s&&s.c(),t=space(),e=element("div"),a=element("div"),o=text(l),p=space(),u=element("div"),_=element("div"),f=element("p"),T=text("f(x)="),V=space(),d=element("input"),b=space(),m=element("p"),j=text("="),I=space(),h=element("input"),O=space(),g=element("button"),S=text(E),x=space(),i&&i.c(),this.h()},l(r){s&&s.l(r),t=claim_space(r),e=claim_element(r,"DIV",{class:!0});var c=children(e);a=claim_element(c,"DIV",{class:!0});var A=children(a);o=claim_text(A,l),A.forEach(detach),p=claim_space(c),u=claim_element(c,"DIV",{class:!0});var k=children(u);_=claim_element(k,"DIV",{class:!0});var v=children(_);f=claim_element(v,"P",{class:!0});var D=children(f);T=claim_text(D,"f(x)="),D.forEach(detach),V=claim_space(v),d=claim_element(v,"INPUT",{class:!0}),b=claim_space(v),m=claim_element(v,"P",{class:!0});var F=children(m);j=claim_text(F,"="),F.forEach(detach),I=claim_space(v),h=claim_element(v,"INPUT",{class:!0}),v.forEach(detach),O=claim_space(k),g=claim_element(k,"BUTTON",{class:!0});var w=children(g);S=claim_text(w,E),w.forEach(detach),x=claim_space(k),i&&i.l(k),k.forEach(detach),c.forEach(detach),this.h()},h(){attr(a,"class","experimental-text svelte-jcgc03"),attr(f,"class","svelte-jcgc03"),attr(d,"class","function-input svelte-jcgc03"),attr(m,"class","svelte-jcgc03"),attr(h,"class","wanted-input svelte-jcgc03"),attr(_,"class","function-flex svelte-jcgc03"),attr(g,"class","calculate-button svelte-jcgc03"),attr(u,"class","container svelte-jcgc03"),attr(e,"class","centered svelte-jcgc03")},m(r,c){s&&s.m(r,c),insert_hydration(r,t,c),insert_hydration(r,e,c),append_hydration(e,a),append_hydration(a,o),append_hydration(e,p),append_hydration(e,u),append_hydration(u,_),append_hydration(_,f),append_hydration(f,T),append_hydration(_,V),append_hydration(_,d),set_input_value(d,n[0]),append_hydration(_,b),append_hydration(_,m),append_hydration(m,j),append_hydration(_,I),append_hydration(_,h),set_input_value(h,n[1]),append_hydration(u,O),append_hydration(u,g),append_hydration(g,S),append_hydration(u,x),i&&i.m(u,null),y=!0,N||(R=[listen(d,"input",n[8]),listen(h,"input",n[9]),listen(g,"click",n[7])],N=!0)},p(r,[c]){r[2]?s?(s.p(r,c),c&4&&transition_in(s,1)):(s=create_if_block_1(r),s.c(),transition_in(s,1),s.m(t.parentNode,t)):s&&(group_outros(),transition_out(s,1,1,()=>{s=null}),check_outros()),(!y||c&64)&&l!==(l=r[6]("general.experimental-text")+"")&&set_data(o,l),c&1&&d.value!==r[0]&&set_input_value(d,r[0]),c&2&&h.value!==r[1]&&set_input_value(h,r[1]),(!y||c&64)&&E!==(E=r[6]("general.calculate")+"")&&set_data(S,E),r[4]?i?i.p(r,c):(i=create_if_block(r),i.c(),i.m(u,null)):i&&(i.d(1),i=null)},i(r){y||(transition_in(s),y=!0)},o(r){transition_out(s),y=!1},d(r){s&&s.d(r),r&&detach(t),r&&detach(e),i&&i.d(),N=!1,run_all(R)}}}function instance(n,t,e){let a;component_subscribe(n,X,b=>e(6,a=b));let l="",o="",p=!1,u="",_=!1,f="";function T(){const[b,m]=solveFunction(l,+o);m.errorOccurred?(e(3,u=m.message),e(2,p=!0),setTimeout(()=>{e(2,p=!1),e(3,u="")},2e3)):(e(5,f=`The result for the variable is: ${b}`),e(4,_=!0))}function V(){l=this.value,e(0,l)}function d(){o=this.value,e(1,o)}return[l,o,p,u,_,f,a,T,V,d]}class Function_solver extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{})}}export{Function_solver as default};
