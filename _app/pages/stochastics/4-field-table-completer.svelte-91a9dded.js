import{S as _e,i as ae,s as oe,e as _,k as m,t as R,c as a,a as D,d as I,m as v,h as X,b as o,g as K,G as i,a0 as c,H as P,F as te,a1 as me,a2 as ve,a3 as de,w as fe,x as ce,y as pe,q as J,o as Q,B as Be,l as re,a4 as he,j as ke,p as Ie,L as ge,n as Te,X as Ve}from"../../chunks/vendor-69346e8e.js";import{S as Ee}from"../../chunks/snackbar-bf1255f5.js";import{r as Ne}from"../../chunks/custom-math-d14d206d.js";function De(e){let n,l,s,A,g,p,f,T,d,B,E,V,U,H,N,t,L,h,k,q,z,W,Y,w,Z,C,y,F,$,M,b,S,x,O,ee,j,ne,se;return{c(){n=_("div"),l=_("div"),s=m(),A=_("div"),g=R("A"),p=m(),f=_("div"),T=R("a"),d=m(),B=_("div"),E=m(),V=_("div"),U=R("B"),H=m(),N=_("input"),t=m(),L=_("input"),h=m(),k=_("input"),q=m(),z=_("div"),W=R("b"),Y=m(),w=_("input"),Z=m(),C=_("input"),y=m(),F=_("input"),$=m(),M=_("div"),b=m(),S=_("input"),x=m(),O=_("input"),ee=m(),j=_("input"),this.h()},l(r){n=a(r,"DIV",{class:!0});var u=D(n);l=a(u,"DIV",{class:!0}),D(l).forEach(I),s=v(u),A=a(u,"DIV",{class:!0});var le=D(A);g=X(le,"A"),le.forEach(I),p=v(u),f=a(u,"DIV",{class:!0});var ue=D(f);T=X(ue,"a"),ue.forEach(I),d=v(u),B=a(u,"DIV",{class:!0}),D(B).forEach(I),E=v(u),V=a(u,"DIV",{class:!0});var ie=D(V);U=X(ie,"B"),ie.forEach(I),H=v(u),N=a(u,"INPUT",{class:!0}),t=v(u),L=a(u,"INPUT",{class:!0}),h=v(u),k=a(u,"INPUT",{class:!0}),q=v(u),z=a(u,"DIV",{class:!0});var Le=D(z);W=X(Le,"b"),Le.forEach(I),Y=v(u),w=a(u,"INPUT",{class:!0}),Z=v(u),C=a(u,"INPUT",{class:!0}),y=v(u),F=a(u,"INPUT",{class:!0}),$=v(u),M=a(u,"DIV",{class:!0}),D(M).forEach(I),b=v(u),S=a(u,"INPUT",{class:!0}),x=v(u),O=a(u,"INPUT",{class:!0}),ee=v(u),j=a(u,"INPUT",{class:!0}),u.forEach(I),this.h()},h(){o(l,"class","table-element special svelte-19e258i"),o(A,"class","table-element svelte-19e258i"),o(f,"class","table-element svelte-19e258i"),o(B,"class","table-element special svelte-19e258i"),o(V,"class","table-element svelte-19e258i"),o(N,"class","table-element svelte-19e258i"),o(L,"class","table-element svelte-19e258i"),o(k,"class","table-element svelte-19e258i"),o(z,"class","table-element svelte-19e258i"),o(w,"class","table-element svelte-19e258i"),o(C,"class","table-element svelte-19e258i"),o(F,"class","table-element svelte-19e258i"),o(M,"class","table-element special svelte-19e258i"),o(S,"class","table-element svelte-19e258i"),o(O,"class","table-element svelte-19e258i"),o(j,"class","table-element svelte-19e258i"),o(n,"class","field-table svelte-19e258i")},m(r,u){K(r,n,u),i(n,l),i(n,s),i(n,A),i(A,g),i(n,p),i(n,f),i(f,T),i(n,d),i(n,B),i(n,E),i(n,V),i(V,U),i(n,H),i(n,N),c(N,e[0].AB),i(n,t),i(n,L),c(L,e[0].aB),i(n,h),i(n,k),c(k,e[0].B_ALL),i(n,q),i(n,z),i(z,W),i(n,Y),i(n,w),c(w,e[0].BA),i(n,Z),i(n,C),c(C,e[0].ab),i(n,y),i(n,F),c(F,e[0].b_ALL),i(n,$),i(n,M),i(n,b),i(n,S),c(S,e[0].A_ALL),i(n,x),i(n,O),c(O,e[0].a_ALL),i(n,ee),i(n,j),c(j,e[0].ALL),ne||(se=[P(N,"input",e[1]),P(L,"input",e[2]),P(k,"input",e[3]),P(w,"input",e[4]),P(C,"input",e[5]),P(F,"input",e[6]),P(S,"input",e[7]),P(O,"input",e[8]),P(j,"input",e[9])],ne=!0)},p(r,[u]){u&1&&N.value!==r[0].AB&&c(N,r[0].AB),u&1&&L.value!==r[0].aB&&c(L,r[0].aB),u&1&&k.value!==r[0].B_ALL&&c(k,r[0].B_ALL),u&1&&w.value!==r[0].BA&&c(w,r[0].BA),u&1&&C.value!==r[0].ab&&c(C,r[0].ab),u&1&&F.value!==r[0].b_ALL&&c(F,r[0].b_ALL),u&1&&S.value!==r[0].A_ALL&&c(S,r[0].A_ALL),u&1&&O.value!==r[0].a_ALL&&c(O,r[0].a_ALL),u&1&&j.value!==r[0].ALL&&c(j,r[0].ALL)},i:te,o:te,d(r){r&&I(n),ne=!1,me(se)}}}function Pe(e,n,l){let{table:s}=n;function A(){s.AB=this.value,l(0,s)}function g(){s.aB=this.value,l(0,s)}function p(){s.B_ALL=this.value,l(0,s)}function f(){s.BA=this.value,l(0,s)}function T(){s.ab=this.value,l(0,s)}function d(){s.b_ALL=this.value,l(0,s)}function B(){s.A_ALL=this.value,l(0,s)}function E(){s.a_ALL=this.value,l(0,s)}function V(){s.ALL=this.value,l(0,s)}return e.$$set=U=>{"table"in U&&l(0,s=U.table)},[s,A,g,p,f,T,d,B,E,V]}class Ue extends _e{constructor(n){super();ae(this,n,Pe,De,oe,{table:0})}}function we(e){let n=0;const l=je(e);for(e=Oe(e);n<20;){for(let s=1;s<=6;s++)e=Ce(e,s);if(Fe(e)&&Se(e))return[qe(e,l),{errorOccurred:!1}];n+=1}return[e,{errorOccurred:!0,message:"Passed max calculations count",code:500}]}function Ce(e,n){switch(n){case 1:G([e.AB,e.aB,e.B_ALL])&&(e.AB===null?e.AB=e.B_ALL-e.aB:e.aB===null?e.aB=e.B_ALL-e.AB:e.B_ALL&&(e.B_ALL=e.AB+e.aB));break;case 2:G([e.BA,e.ab,e.b_ALL])&&(e.BA===null?e.BA=e.b_ALL-e.ab:e.ab===null?e.ab=e.b_ALL-e.BA:e.b_ALL&&(e.b_ALL=e.BA+e.ab));break;case 3:G([e.AB,e.BA,e.A_ALL])&&(e.AB===null?e.AB=e.A_ALL-e.BA:e.BA===null?e.BA=e.A_ALL-e.AB:e.A_ALL&&(e.A_ALL=e.BA+e.AB));break;case 4:G([e.aB,e.ab,e.a_ALL])&&(e.aB===null?e.aB=e.a_ALL-e.ab:e.ab===null?e.ab=e.a_ALL-e.aB:e.A_ALL&&(e.a_ALL=e.aB+e.ab));break;case 5:G([e.B_ALL,e.b_ALL,e.ALL])&&(e.B_ALL===null?e.B_ALL=e.ALL-e.b_ALL:e.b_ALL===null?e.b_ALL=e.ALL-e.B_ALL:e.ALL&&(e.ALL=e.B_ALL+e.b_ALL));break;case 6:G([e.A_ALL,e.a_ALL,e.ALL])&&(e.A_ALL===null?e.A_ALL=e.ALL-e.a_ALL:e.a_ALL===null?e.a_ALL=e.ALL-e.A_ALL:e.ALL&&(e.ALL=e.A_ALL+e.a_ALL));break}return e}function G(e){let n=0;return e.forEach(l=>{l===null&&(n+=1)}),n<=1}function Fe(e){return e.AB!==null&&e.ALL!==null&&e.A_ALL!==null&&e.BA!==null&&e.B_ALL!==null&&e.aB!==null&&e.a_ALL!==null&&e.ab!==null&&e.b_ALL!==null}function Se(e){return e.AB+e.aB===e.B_ALL&&e.BA+e.ab===e.b_ALL&&e.AB+e.BA===e.A_ALL&&e.aB+e.ab===e.a_ALL&&e.A_ALL+e.a_ALL===e.ALL&&e.B_ALL+e.b_ALL===e.ALL}function Oe(e){return e.AB=e.AB===null?null:+e.AB,e.ALL=e.ALL===null?null:+e.ALL,e.A_ALL=e.A_ALL===null?null:+e.A_ALL,e.BA=e.BA===null?null:+e.BA,e.B_ALL=e.B_ALL===null?null:+e.B_ALL,e.aB=e.aB===null?null:+e.aB,e.a_ALL=e.a_ALL===null?null:+e.a_ALL,e.ab=e.ab===null?null:+e.ab,e.b_ALL=e.b_ALL===null?null:+e.b_ALL,e}function je(e){let n=0;for(const l in e){const s=(""+e[l]).split("").length;s>n&&(n=s)}return n<=2?n:n-2}function qe(e,n){const l={};for(const s in e)l[s]=Ne(e[s],n);return l}function Ae(e){let n,l;return n=new Ee({props:{message:e[2]}}),{c(){fe(n.$$.fragment)},l(s){ce(n.$$.fragment,s)},m(s,A){pe(n,s,A),l=!0},p(s,A){const g={};A&4&&(g.message=s[2]),n.$set(g)},i(s){l||(J(n.$$.fragment,s),l=!0)},o(s){Q(n.$$.fragment,s),l=!1},d(s){Be(n,s)}}}function ze(e){let n,l,s,A,g,p,f=e[3]("stochastics.4-field-table.button-text")+"",T,d,B,E,V,U;function H(L){e[5](L)}let N={};e[0]!==void 0&&(N.table=e[0]),s=new Ue({props:N}),ve.push(()=>de(s,"table",H));let t=e[1]&&Ae(e);return{c(){n=_("div"),l=_("div"),fe(s.$$.fragment),g=m(),p=_("button"),T=R(f),d=m(),t&&t.c(),B=re(),this.h()},l(L){n=a(L,"DIV",{class:!0});var h=D(n);l=a(h,"DIV",{class:!0});var k=D(l);ce(s.$$.fragment,k),g=v(k),p=a(k,"BUTTON",{class:!0});var q=D(p);T=X(q,f),q.forEach(I),k.forEach(I),h.forEach(I),d=v(L),t&&t.l(L),B=re(),this.h()},h(){o(p,"class","calculate-button svelte-1u433f5"),o(l,"class","container svelte-1u433f5"),o(n,"class","centered svelte-1u433f5")},m(L,h){K(L,n,h),i(n,l),pe(s,l,null),i(l,g),i(l,p),i(p,T),K(L,d,h),t&&t.m(L,h),K(L,B,h),E=!0,V||(U=P(p,"click",e[4]),V=!0)},p(L,[h]){const k={};!A&&h&1&&(A=!0,k.table=L[0],he(()=>A=!1)),s.$set(k),(!E||h&8)&&f!==(f=L[3]("stochastics.4-field-table.button-text")+"")&&ke(T,f),L[1]?t?(t.p(L,h),h&2&&J(t,1)):(t=Ae(L),t.c(),J(t,1),t.m(B.parentNode,B)):t&&(Te(),Q(t,1,1,()=>{t=null}),Ie())},i(L){E||(J(s.$$.fragment,L),J(t),E=!0)},o(L){Q(s.$$.fragment,L),Q(t),E=!1},d(L){L&&I(n),Be(s),L&&I(d),t&&t.d(L),L&&I(B),V=!1,U()}}}function Ge(e,n,l){let s;ge(e,Ve,d=>l(3,s=d));let A={AB:null,aB:null,BA:null,ab:null,A_ALL:null,a_ALL:null,B_ALL:null,b_ALL:null,ALL:null};function g(){const[d,B]=we(A);B.errorOccurred?(l(1,p=!0),l(2,f=B.message),setTimeout(()=>{l(1,p=!1),l(2,f="")},2e3)):l(0,A=d)}let p=!1,f="";function T(d){A=d,l(0,A)}return[A,p,f,s,g,T]}class Xe extends _e{constructor(n){super();ae(this,n,Ge,ze,oe,{})}}export{Xe as default};
