import{S as _e,i as oe,s as ae,e as _,k as m,t as M,c as o,a as D,d as I,n as v,g as R,b as a,f as Y,J as i,V as c,K as P,C as te,E as me,W as ve,X as de,j as fe,m as ce,o as pe,x as W,u as G,v as Be,l as re,Y as he,h as ke,w as Ie,L as ge,r as Te}from"../../chunks/index-7d9d2a1b.js";import{S as Ve}from"../../chunks/snackbar-b0b6d632.js";import{r as Ee}from"../../chunks/custom-math-d14d206d.js";import{X as Ne}from"../../chunks/runtime.esm-12a20045.js";import"../../chunks/index-e5ad1a6c.js";function De(e){let n,l,s,A,g,p,f,T,d,B,E,V,U,J,N,t,L,h,k,X,q,H,Q,w,Z,C,y,S,$,K,b,F,x,O,ee,j,ne,se;return{c(){n=_("div"),l=_("div"),s=m(),A=_("div"),g=M("A"),p=m(),f=_("div"),T=M("a"),d=m(),B=_("div"),E=m(),V=_("div"),U=M("B"),J=m(),N=_("input"),t=m(),L=_("input"),h=m(),k=_("input"),X=m(),q=_("div"),H=M("b"),Q=m(),w=_("input"),Z=m(),C=_("input"),y=m(),S=_("input"),$=m(),K=_("div"),b=m(),F=_("input"),x=m(),O=_("input"),ee=m(),j=_("input"),this.h()},l(r){n=o(r,"DIV",{class:!0});var u=D(n);l=o(u,"DIV",{class:!0}),D(l).forEach(I),s=v(u),A=o(u,"DIV",{class:!0});var le=D(A);g=R(le,"A"),le.forEach(I),p=v(u),f=o(u,"DIV",{class:!0});var ue=D(f);T=R(ue,"a"),ue.forEach(I),d=v(u),B=o(u,"DIV",{class:!0}),D(B).forEach(I),E=v(u),V=o(u,"DIV",{class:!0});var ie=D(V);U=R(ie,"B"),ie.forEach(I),J=v(u),N=o(u,"INPUT",{class:!0}),t=v(u),L=o(u,"INPUT",{class:!0}),h=v(u),k=o(u,"INPUT",{class:!0}),X=v(u),q=o(u,"DIV",{class:!0});var Le=D(q);H=R(Le,"b"),Le.forEach(I),Q=v(u),w=o(u,"INPUT",{class:!0}),Z=v(u),C=o(u,"INPUT",{class:!0}),y=v(u),S=o(u,"INPUT",{class:!0}),$=v(u),K=o(u,"DIV",{class:!0}),D(K).forEach(I),b=v(u),F=o(u,"INPUT",{class:!0}),x=v(u),O=o(u,"INPUT",{class:!0}),ee=v(u),j=o(u,"INPUT",{class:!0}),u.forEach(I),this.h()},h(){a(l,"class","table-element special svelte-19e258i"),a(A,"class","table-element svelte-19e258i"),a(f,"class","table-element svelte-19e258i"),a(B,"class","table-element special svelte-19e258i"),a(V,"class","table-element svelte-19e258i"),a(N,"class","table-element svelte-19e258i"),a(L,"class","table-element svelte-19e258i"),a(k,"class","table-element svelte-19e258i"),a(q,"class","table-element svelte-19e258i"),a(w,"class","table-element svelte-19e258i"),a(C,"class","table-element svelte-19e258i"),a(S,"class","table-element svelte-19e258i"),a(K,"class","table-element special svelte-19e258i"),a(F,"class","table-element svelte-19e258i"),a(O,"class","table-element svelte-19e258i"),a(j,"class","table-element svelte-19e258i"),a(n,"class","field-table svelte-19e258i")},m(r,u){Y(r,n,u),i(n,l),i(n,s),i(n,A),i(A,g),i(n,p),i(n,f),i(f,T),i(n,d),i(n,B),i(n,E),i(n,V),i(V,U),i(n,J),i(n,N),c(N,e[0].AB),i(n,t),i(n,L),c(L,e[0].aB),i(n,h),i(n,k),c(k,e[0].B_ALL),i(n,X),i(n,q),i(q,H),i(n,Q),i(n,w),c(w,e[0].BA),i(n,Z),i(n,C),c(C,e[0].ab),i(n,y),i(n,S),c(S,e[0].b_ALL),i(n,$),i(n,K),i(n,b),i(n,F),c(F,e[0].A_ALL),i(n,x),i(n,O),c(O,e[0].a_ALL),i(n,ee),i(n,j),c(j,e[0].ALL),ne||(se=[P(N,"input",e[1]),P(L,"input",e[2]),P(k,"input",e[3]),P(w,"input",e[4]),P(C,"input",e[5]),P(S,"input",e[6]),P(F,"input",e[7]),P(O,"input",e[8]),P(j,"input",e[9])],ne=!0)},p(r,[u]){u&1&&N.value!==r[0].AB&&c(N,r[0].AB),u&1&&L.value!==r[0].aB&&c(L,r[0].aB),u&1&&k.value!==r[0].B_ALL&&c(k,r[0].B_ALL),u&1&&w.value!==r[0].BA&&c(w,r[0].BA),u&1&&C.value!==r[0].ab&&c(C,r[0].ab),u&1&&S.value!==r[0].b_ALL&&c(S,r[0].b_ALL),u&1&&F.value!==r[0].A_ALL&&c(F,r[0].A_ALL),u&1&&O.value!==r[0].a_ALL&&c(O,r[0].a_ALL),u&1&&j.value!==r[0].ALL&&c(j,r[0].ALL)},i:te,o:te,d(r){r&&I(n),ne=!1,me(se)}}}function Pe(e,n,l){let{table:s}=n;function A(){s.AB=this.value,l(0,s)}function g(){s.aB=this.value,l(0,s)}function p(){s.B_ALL=this.value,l(0,s)}function f(){s.BA=this.value,l(0,s)}function T(){s.ab=this.value,l(0,s)}function d(){s.b_ALL=this.value,l(0,s)}function B(){s.A_ALL=this.value,l(0,s)}function E(){s.a_ALL=this.value,l(0,s)}function V(){s.ALL=this.value,l(0,s)}return e.$$set=U=>{"table"in U&&l(0,s=U.table)},[s,A,g,p,f,T,d,B,E,V]}class Ue extends _e{constructor(n){super(),oe(this,n,Pe,De,ae,{table:0})}}function we(e){let n=0;const l=je(e);for(e=Oe(e);n<20;){for(let s=1;s<=6;s++)e=Ce(e,s);if(Se(e)&&Fe(e))return[Xe(e,l),{errorOccurred:!1}];n+=1}return[e,{errorOccurred:!0,message:"Passed max calculations count",code:500}]}function Ce(e,n){switch(n){case 1:z([e.AB,e.aB,e.B_ALL])&&(e.AB===null?e.AB=e.B_ALL-e.aB:e.aB===null?e.aB=e.B_ALL-e.AB:e.B_ALL&&(e.B_ALL=e.AB+e.aB));break;case 2:z([e.BA,e.ab,e.b_ALL])&&(e.BA===null?e.BA=e.b_ALL-e.ab:e.ab===null?e.ab=e.b_ALL-e.BA:e.b_ALL&&(e.b_ALL=e.BA+e.ab));break;case 3:z([e.AB,e.BA,e.A_ALL])&&(e.AB===null?e.AB=e.A_ALL-e.BA:e.BA===null?e.BA=e.A_ALL-e.AB:e.A_ALL&&(e.A_ALL=e.BA+e.AB));break;case 4:z([e.aB,e.ab,e.a_ALL])&&(e.aB===null?e.aB=e.a_ALL-e.ab:e.ab===null?e.ab=e.a_ALL-e.aB:e.A_ALL&&(e.a_ALL=e.aB+e.ab));break;case 5:z([e.B_ALL,e.b_ALL,e.ALL])&&(e.B_ALL===null?e.B_ALL=e.ALL-e.b_ALL:e.b_ALL===null?e.b_ALL=e.ALL-e.B_ALL:e.ALL&&(e.ALL=e.B_ALL+e.b_ALL));break;case 6:z([e.A_ALL,e.a_ALL,e.ALL])&&(e.A_ALL===null?e.A_ALL=e.ALL-e.a_ALL:e.a_ALL===null?e.a_ALL=e.ALL-e.A_ALL:e.ALL&&(e.ALL=e.A_ALL+e.a_ALL));break}return e}function z(e){let n=0;return e.forEach(l=>{l===null&&(n+=1)}),n<=1}function Se(e){return e.AB!==null&&e.ALL!==null&&e.A_ALL!==null&&e.BA!==null&&e.B_ALL!==null&&e.aB!==null&&e.a_ALL!==null&&e.ab!==null&&e.b_ALL!==null}function Fe(e){return e.AB+e.aB===e.B_ALL&&e.BA+e.ab===e.b_ALL&&e.AB+e.BA===e.A_ALL&&e.aB+e.ab===e.a_ALL&&e.A_ALL+e.a_ALL===e.ALL&&e.B_ALL+e.b_ALL===e.ALL}function Oe(e){return e.AB=e.AB===null?null:+e.AB,e.ALL=e.ALL===null?null:+e.ALL,e.A_ALL=e.A_ALL===null?null:+e.A_ALL,e.BA=e.BA===null?null:+e.BA,e.B_ALL=e.B_ALL===null?null:+e.B_ALL,e.aB=e.aB===null?null:+e.aB,e.a_ALL=e.a_ALL===null?null:+e.a_ALL,e.ab=e.ab===null?null:+e.ab,e.b_ALL=e.b_ALL===null?null:+e.b_ALL,e}function je(e){let n=0;for(const l in e){const s=(""+e[l]).split("").length;s>n&&(n=s)}return n<=2?n:n-2}function Xe(e,n){const l={};for(const s in e)l[s]=Ee(e[s],n);return l}function Ae(e){let n,l;return n=new Ve({props:{message:e[2]}}),{c(){fe(n.$$.fragment)},l(s){ce(n.$$.fragment,s)},m(s,A){pe(n,s,A),l=!0},p(s,A){const g={};A&4&&(g.message=s[2]),n.$set(g)},i(s){l||(W(n.$$.fragment,s),l=!0)},o(s){G(n.$$.fragment,s),l=!1},d(s){Be(n,s)}}}function qe(e){let n,l,s,A,g,p,f=e[3]("stochastics.4-field-table.button-text")+"",T,d,B,E,V,U;function J(L){e[5](L)}let N={};e[0]!==void 0&&(N.table=e[0]),s=new Ue({props:N}),ve.push(()=>de(s,"table",J));let t=e[1]&&Ae(e);return{c(){n=_("div"),l=_("div"),fe(s.$$.fragment),g=m(),p=_("button"),T=M(f),d=m(),t&&t.c(),B=re(),this.h()},l(L){n=o(L,"DIV",{class:!0});var h=D(n);l=o(h,"DIV",{class:!0});var k=D(l);ce(s.$$.fragment,k),g=v(k),p=o(k,"BUTTON",{class:!0});var X=D(p);T=R(X,f),X.forEach(I),k.forEach(I),h.forEach(I),d=v(L),t&&t.l(L),B=re(),this.h()},h(){a(p,"class","calculate-button svelte-1u433f5"),a(l,"class","container svelte-1u433f5"),a(n,"class","centered svelte-1u433f5")},m(L,h){Y(L,n,h),i(n,l),pe(s,l,null),i(l,g),i(l,p),i(p,T),Y(L,d,h),t&&t.m(L,h),Y(L,B,h),E=!0,V||(U=P(p,"click",e[4]),V=!0)},p(L,[h]){const k={};!A&&h&1&&(A=!0,k.table=L[0],he(()=>A=!1)),s.$set(k),(!E||h&8)&&f!==(f=L[3]("stochastics.4-field-table.button-text")+"")&&ke(T,f),L[1]?t?(t.p(L,h),h&2&&W(t,1)):(t=Ae(L),t.c(),W(t,1),t.m(B.parentNode,B)):t&&(Te(),G(t,1,1,()=>{t=null}),Ie())},i(L){E||(W(s.$$.fragment,L),W(t),E=!0)},o(L){G(s.$$.fragment,L),G(t),E=!1},d(L){L&&I(n),Be(s),L&&I(d),t&&t.d(L),L&&I(B),V=!1,U()}}}function ze(e,n,l){let s;ge(e,Ne,d=>l(3,s=d));let A={AB:null,aB:null,BA:null,ab:null,A_ALL:null,a_ALL:null,B_ALL:null,b_ALL:null,ALL:null};function g(){const[d,B]=we(A);B.errorOccurred?(l(1,p=!0),l(2,f=B.message),setTimeout(()=>{l(1,p=!1),l(2,f="")},2e3)):l(0,A=d)}let p=!1,f="";function T(d){A=d,l(0,A)}return[A,p,f,s,g,T]}class Ye extends _e{constructor(n){super(),oe(this,n,ze,qe,ae,{})}}export{Ye as default};
