import{S as te,i as re,s as Ae,e as _,k as m,t as X,c as a,a as N,d as I,n as v,g as Z,b as o,f as H,E as i,Z as c,F as P,D as _e,_ as me,a0 as ve,a1 as de,j as ae,m as oe,o as fe,x as G,u as K,v as ce,l as pe,a2 as he,h as ke,w as Ie,J as ge,r as Te,X as Ee}from"../../chunks/vendor-894bca97.js";import{S as Ve}from"../../chunks/snackbar-96a8ffa5.js";import{r as De}from"../../chunks/custom-math-d14d206d.js";function Ne(e){let n,l,s,A,g,p,f,T,d,B,V,E,U,M,D,t,L,h,k,q,z,Q,W,w,Y,C,y,F,$,R,b,S,x,j,ee,O,ne,se;return{c(){n=_("div"),l=_("div"),s=m(),A=_("div"),g=X("A"),p=m(),f=_("div"),T=X("a"),d=m(),B=_("div"),V=m(),E=_("div"),U=X("B"),M=m(),D=_("input"),t=m(),L=_("input"),h=m(),k=_("input"),q=m(),z=_("div"),Q=X("b"),W=m(),w=_("input"),Y=m(),C=_("input"),y=m(),F=_("input"),$=m(),R=_("div"),b=m(),S=_("input"),x=m(),j=_("input"),ee=m(),O=_("input"),this.h()},l(r){n=a(r,"DIV",{class:!0});var u=N(n);l=a(u,"DIV",{class:!0}),N(l).forEach(I),s=v(u),A=a(u,"DIV",{class:!0});var le=N(A);g=Z(le,"A"),le.forEach(I),p=v(u),f=a(u,"DIV",{class:!0});var ue=N(f);T=Z(ue,"a"),ue.forEach(I),d=v(u),B=a(u,"DIV",{class:!0}),N(B).forEach(I),V=v(u),E=a(u,"DIV",{class:!0});var ie=N(E);U=Z(ie,"B"),ie.forEach(I),M=v(u),D=a(u,"INPUT",{class:!0}),t=v(u),L=a(u,"INPUT",{class:!0}),h=v(u),k=a(u,"INPUT",{class:!0}),q=v(u),z=a(u,"DIV",{class:!0});var Le=N(z);Q=Z(Le,"b"),Le.forEach(I),W=v(u),w=a(u,"INPUT",{class:!0}),Y=v(u),C=a(u,"INPUT",{class:!0}),y=v(u),F=a(u,"INPUT",{class:!0}),$=v(u),R=a(u,"DIV",{class:!0}),N(R).forEach(I),b=v(u),S=a(u,"INPUT",{class:!0}),x=v(u),j=a(u,"INPUT",{class:!0}),ee=v(u),O=a(u,"INPUT",{class:!0}),u.forEach(I),this.h()},h(){o(l,"class","table-element special svelte-19e258i"),o(A,"class","table-element svelte-19e258i"),o(f,"class","table-element svelte-19e258i"),o(B,"class","table-element special svelte-19e258i"),o(E,"class","table-element svelte-19e258i"),o(D,"class","table-element svelte-19e258i"),o(L,"class","table-element svelte-19e258i"),o(k,"class","table-element svelte-19e258i"),o(z,"class","table-element svelte-19e258i"),o(w,"class","table-element svelte-19e258i"),o(C,"class","table-element svelte-19e258i"),o(F,"class","table-element svelte-19e258i"),o(R,"class","table-element special svelte-19e258i"),o(S,"class","table-element svelte-19e258i"),o(j,"class","table-element svelte-19e258i"),o(O,"class","table-element svelte-19e258i"),o(n,"class","field-table svelte-19e258i")},m(r,u){H(r,n,u),i(n,l),i(n,s),i(n,A),i(A,g),i(n,p),i(n,f),i(f,T),i(n,d),i(n,B),i(n,V),i(n,E),i(E,U),i(n,M),i(n,D),c(D,e[0].AB),i(n,t),i(n,L),c(L,e[0].aB),i(n,h),i(n,k),c(k,e[0].B_ALL),i(n,q),i(n,z),i(z,Q),i(n,W),i(n,w),c(w,e[0].BA),i(n,Y),i(n,C),c(C,e[0].ab),i(n,y),i(n,F),c(F,e[0].b_ALL),i(n,$),i(n,R),i(n,b),i(n,S),c(S,e[0].A_ALL),i(n,x),i(n,j),c(j,e[0].a_ALL),i(n,ee),i(n,O),c(O,e[0].ALL),ne||(se=[P(D,"input",e[1]),P(L,"input",e[2]),P(k,"input",e[3]),P(w,"input",e[4]),P(C,"input",e[5]),P(F,"input",e[6]),P(S,"input",e[7]),P(j,"input",e[8]),P(O,"input",e[9])],ne=!0)},p(r,[u]){u&1&&D.value!==r[0].AB&&c(D,r[0].AB),u&1&&L.value!==r[0].aB&&c(L,r[0].aB),u&1&&k.value!==r[0].B_ALL&&c(k,r[0].B_ALL),u&1&&w.value!==r[0].BA&&c(w,r[0].BA),u&1&&C.value!==r[0].ab&&c(C,r[0].ab),u&1&&F.value!==r[0].b_ALL&&c(F,r[0].b_ALL),u&1&&S.value!==r[0].A_ALL&&c(S,r[0].A_ALL),u&1&&j.value!==r[0].a_ALL&&c(j,r[0].a_ALL),u&1&&O.value!==r[0].ALL&&c(O,r[0].ALL)},i:_e,o:_e,d(r){r&&I(n),ne=!1,me(se)}}}function Pe(e,n,l){let{table:s}=n;function A(){s.AB=this.value,l(0,s)}function g(){s.aB=this.value,l(0,s)}function p(){s.B_ALL=this.value,l(0,s)}function f(){s.BA=this.value,l(0,s)}function T(){s.ab=this.value,l(0,s)}function d(){s.b_ALL=this.value,l(0,s)}function B(){s.A_ALL=this.value,l(0,s)}function V(){s.a_ALL=this.value,l(0,s)}function E(){s.ALL=this.value,l(0,s)}return e.$$set=U=>{"table"in U&&l(0,s=U.table)},[s,A,g,p,f,T,d,B,V,E]}class Ue extends te{constructor(n){super();re(this,n,Pe,Ne,Ae,{table:0})}}function we(e){let n=0;const l=Oe(e);for(e=je(e);n<20;){for(let s=1;s<=6;s++)e=Ce(e,s);if(Fe(e)&&Se(e))return[qe(e,l),{errorOccurred:!1}];n+=1}return[e,{errorOccurred:!0,message:"Passed max calculations count",code:500}]}function Ce(e,n){switch(n){case 1:J([e.AB,e.aB,e.B_ALL])&&(e.AB===null?e.AB=e.B_ALL-e.aB:e.aB===null?e.aB=e.B_ALL-e.AB:e.B_ALL&&(e.B_ALL=e.AB+e.aB));break;case 2:J([e.BA,e.ab,e.b_ALL])&&(e.BA===null?e.BA=e.b_ALL-e.ab:e.ab===null?e.ab=e.b_ALL-e.BA:e.b_ALL&&(e.b_ALL=e.BA+e.ab));break;case 3:J([e.AB,e.BA,e.A_ALL])&&(e.AB===null?e.AB=e.A_ALL-e.BA:e.BA===null?e.BA=e.A_ALL-e.AB:e.A_ALL&&(e.A_ALL=e.BA+e.AB));break;case 4:J([e.aB,e.ab,e.a_ALL])&&(e.aB===null?e.aB=e.a_ALL-e.ab:e.ab===null?e.ab=e.a_ALL-e.aB:e.A_ALL&&(e.a_ALL=e.aB+e.ab));break;case 5:J([e.B_ALL,e.b_ALL,e.ALL])&&(e.B_ALL===null?e.B_ALL=e.ALL-e.b_ALL:e.b_ALL===null?e.b_ALL=e.ALL-e.B_ALL:e.ALL&&(e.ALL=e.B_ALL+e.b_ALL));break;case 6:J([e.A_ALL,e.a_ALL,e.ALL])&&(e.A_ALL===null?e.A_ALL=e.ALL-e.a_ALL:e.a_ALL===null?e.a_ALL=e.ALL-e.A_ALL:e.ALL&&(e.ALL=e.A_ALL+e.a_ALL));break}return e}function J(e){let n=0;return e.forEach(l=>{l===null&&(n+=1)}),n<=1}function Fe(e){return e.AB!==null&&e.ALL!==null&&e.A_ALL!==null&&e.BA!==null&&e.B_ALL!==null&&e.aB!==null&&e.a_ALL!==null&&e.ab!==null&&e.b_ALL!==null}function Se(e){return e.AB+e.aB===e.B_ALL&&e.BA+e.ab===e.b_ALL&&e.AB+e.BA===e.A_ALL&&e.aB+e.ab===e.a_ALL&&e.A_ALL+e.a_ALL===e.ALL&&e.B_ALL+e.b_ALL===e.ALL}function je(e){return e.AB=e.AB===null?null:+e.AB,e.ALL=e.ALL===null?null:+e.ALL,e.A_ALL=e.A_ALL===null?null:+e.A_ALL,e.BA=e.BA===null?null:+e.BA,e.B_ALL=e.B_ALL===null?null:+e.B_ALL,e.aB=e.aB===null?null:+e.aB,e.a_ALL=e.a_ALL===null?null:+e.a_ALL,e.ab=e.ab===null?null:+e.ab,e.b_ALL=e.b_ALL===null?null:+e.b_ALL,e}function Oe(e){let n=0;for(const l in e){const s=(""+e[l]).split("").length;s>n&&(n=s)}return n<=2?n:n-2}function qe(e,n){const l={};for(const s in e)l[s]=De(e[s],n);return l}function Be(e){let n,l;return n=new Ve({props:{message:e[2]}}),{c(){ae(n.$$.fragment)},l(s){oe(n.$$.fragment,s)},m(s,A){fe(n,s,A),l=!0},p(s,A){const g={};A&4&&(g.message=s[2]),n.$set(g)},i(s){l||(G(n.$$.fragment,s),l=!0)},o(s){K(n.$$.fragment,s),l=!1},d(s){ce(n,s)}}}function ze(e){let n,l,s,A,g,p,f=e[3]("stochastics.4-field-table.button-text")+"",T,d,B,V,E,U;function M(L){e[5](L)}let D={};e[0]!==void 0&&(D.table=e[0]),s=new Ue({props:D}),ve.push(()=>de(s,"table",M));let t=e[1]&&Be(e);return{c(){n=_("div"),l=_("div"),ae(s.$$.fragment),g=m(),p=_("button"),T=X(f),d=m(),t&&t.c(),B=pe(),this.h()},l(L){n=a(L,"DIV",{class:!0});var h=N(n);l=a(h,"DIV",{class:!0});var k=N(l);oe(s.$$.fragment,k),g=v(k),p=a(k,"BUTTON",{class:!0});var q=N(p);T=Z(q,f),q.forEach(I),k.forEach(I),h.forEach(I),d=v(L),t&&t.l(L),B=pe(),this.h()},h(){o(p,"class","calculate-button svelte-1u433f5"),o(l,"class","container svelte-1u433f5"),o(n,"class","centered svelte-1u433f5")},m(L,h){H(L,n,h),i(n,l),fe(s,l,null),i(l,g),i(l,p),i(p,T),H(L,d,h),t&&t.m(L,h),H(L,B,h),V=!0,E||(U=P(p,"click",e[4]),E=!0)},p(L,[h]){const k={};!A&&h&1&&(A=!0,k.table=L[0],he(()=>A=!1)),s.$set(k),(!V||h&8)&&f!==(f=L[3]("stochastics.4-field-table.button-text")+"")&&ke(T,f),L[1]?t?(t.p(L,h),h&2&&G(t,1)):(t=Be(L),t.c(),G(t,1),t.m(B.parentNode,B)):t&&(Te(),K(t,1,1,()=>{t=null}),Ie())},i(L){V||(G(s.$$.fragment,L),G(t),V=!0)},o(L){K(s.$$.fragment,L),K(t),V=!1},d(L){L&&I(n),ce(s),L&&I(d),t&&t.d(L),L&&I(B),E=!1,U()}}}function Je(e,n,l){let s;ge(e,Ee,d=>l(3,s=d));let A={AB:null,aB:null,BA:null,ab:null,A_ALL:null,a_ALL:null,B_ALL:null,b_ALL:null,ALL:null};function g(){const[d,B]=we(A);B.errorOccurred?(l(1,p=!0),l(2,f=B.message),setTimeout(()=>{l(1,p=!1),l(2,f="")},2e3)):l(0,A=d)}let p=!1,f="";function T(d){A=d,l(0,A)}return[A,p,f,s,g,T]}class Ze extends te{constructor(n){super();re(this,n,Je,ze,Ae,{})}}export{Ze as default};
