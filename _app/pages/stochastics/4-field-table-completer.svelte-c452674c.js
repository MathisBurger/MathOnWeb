import{S as _e,i as oe,s as ae,e as _,l as m,t as R,a as o,b as N,d as I,o as v,h as W,f as a,g as Z,K as i,W as c,L as P,D as te,F as me,X as ve,Y as de,k as fe,n as ce,p as pe,y as Y,v as G,w as Be,m as re,Z as he,j as ke,x as Ie,M as ge,u as Te}from"../../chunks/index-d9a3d5e9.js";import{S as Ve}from"../../chunks/snackbar-b2a99efb.js";import{r as De}from"../../chunks/custom-math-d14d206d.js";import{X as Ee}from"../../chunks/runtime.esm-823c545a.js";import"../../chunks/index-8ed63475.js";function Ne(e){let n,l,s,A,g,p,f,T,d,B,D,V,U,z,E,t,L,h,k,M,X,H,J,w,Q,C,y,F,$,K,b,S,x,O,ee,j,ne,se;return{c(){n=_("div"),l=_("div"),s=m(),A=_("div"),g=R("A"),p=m(),f=_("div"),T=R("a"),d=m(),B=_("div"),D=m(),V=_("div"),U=R("B"),z=m(),E=_("input"),t=m(),L=_("input"),h=m(),k=_("input"),M=m(),X=_("div"),H=R("b"),J=m(),w=_("input"),Q=m(),C=_("input"),y=m(),F=_("input"),$=m(),K=_("div"),b=m(),S=_("input"),x=m(),O=_("input"),ee=m(),j=_("input"),this.h()},l(r){n=o(r,"DIV",{class:!0});var u=N(n);l=o(u,"DIV",{class:!0}),N(l).forEach(I),s=v(u),A=o(u,"DIV",{class:!0});var le=N(A);g=W(le,"A"),le.forEach(I),p=v(u),f=o(u,"DIV",{class:!0});var ue=N(f);T=W(ue,"a"),ue.forEach(I),d=v(u),B=o(u,"DIV",{class:!0}),N(B).forEach(I),D=v(u),V=o(u,"DIV",{class:!0});var ie=N(V);U=W(ie,"B"),ie.forEach(I),z=v(u),E=o(u,"INPUT",{class:!0}),t=v(u),L=o(u,"INPUT",{class:!0}),h=v(u),k=o(u,"INPUT",{class:!0}),M=v(u),X=o(u,"DIV",{class:!0});var Le=N(X);H=W(Le,"b"),Le.forEach(I),J=v(u),w=o(u,"INPUT",{class:!0}),Q=v(u),C=o(u,"INPUT",{class:!0}),y=v(u),F=o(u,"INPUT",{class:!0}),$=v(u),K=o(u,"DIV",{class:!0}),N(K).forEach(I),b=v(u),S=o(u,"INPUT",{class:!0}),x=v(u),O=o(u,"INPUT",{class:!0}),ee=v(u),j=o(u,"INPUT",{class:!0}),u.forEach(I),this.h()},h(){a(l,"class","table-element special svelte-19e258i"),a(A,"class","table-element svelte-19e258i"),a(f,"class","table-element svelte-19e258i"),a(B,"class","table-element special svelte-19e258i"),a(V,"class","table-element svelte-19e258i"),a(E,"class","table-element svelte-19e258i"),a(L,"class","table-element svelte-19e258i"),a(k,"class","table-element svelte-19e258i"),a(X,"class","table-element svelte-19e258i"),a(w,"class","table-element svelte-19e258i"),a(C,"class","table-element svelte-19e258i"),a(F,"class","table-element svelte-19e258i"),a(K,"class","table-element special svelte-19e258i"),a(S,"class","table-element svelte-19e258i"),a(O,"class","table-element svelte-19e258i"),a(j,"class","table-element svelte-19e258i"),a(n,"class","field-table svelte-19e258i")},m(r,u){Z(r,n,u),i(n,l),i(n,s),i(n,A),i(A,g),i(n,p),i(n,f),i(f,T),i(n,d),i(n,B),i(n,D),i(n,V),i(V,U),i(n,z),i(n,E),c(E,e[0].AB),i(n,t),i(n,L),c(L,e[0].aB),i(n,h),i(n,k),c(k,e[0].B_ALL),i(n,M),i(n,X),i(X,H),i(n,J),i(n,w),c(w,e[0].BA),i(n,Q),i(n,C),c(C,e[0].ab),i(n,y),i(n,F),c(F,e[0].b_ALL),i(n,$),i(n,K),i(n,b),i(n,S),c(S,e[0].A_ALL),i(n,x),i(n,O),c(O,e[0].a_ALL),i(n,ee),i(n,j),c(j,e[0].ALL),ne||(se=[P(E,"input",e[1]),P(L,"input",e[2]),P(k,"input",e[3]),P(w,"input",e[4]),P(C,"input",e[5]),P(F,"input",e[6]),P(S,"input",e[7]),P(O,"input",e[8]),P(j,"input",e[9])],ne=!0)},p(r,[u]){u&1&&E.value!==r[0].AB&&c(E,r[0].AB),u&1&&L.value!==r[0].aB&&c(L,r[0].aB),u&1&&k.value!==r[0].B_ALL&&c(k,r[0].B_ALL),u&1&&w.value!==r[0].BA&&c(w,r[0].BA),u&1&&C.value!==r[0].ab&&c(C,r[0].ab),u&1&&F.value!==r[0].b_ALL&&c(F,r[0].b_ALL),u&1&&S.value!==r[0].A_ALL&&c(S,r[0].A_ALL),u&1&&O.value!==r[0].a_ALL&&c(O,r[0].a_ALL),u&1&&j.value!==r[0].ALL&&c(j,r[0].ALL)},i:te,o:te,d(r){r&&I(n),ne=!1,me(se)}}}function Pe(e,n,l){let{table:s}=n;function A(){s.AB=this.value,l(0,s)}function g(){s.aB=this.value,l(0,s)}function p(){s.B_ALL=this.value,l(0,s)}function f(){s.BA=this.value,l(0,s)}function T(){s.ab=this.value,l(0,s)}function d(){s.b_ALL=this.value,l(0,s)}function B(){s.A_ALL=this.value,l(0,s)}function D(){s.a_ALL=this.value,l(0,s)}function V(){s.ALL=this.value,l(0,s)}return e.$$set=U=>{"table"in U&&l(0,s=U.table)},[s,A,g,p,f,T,d,B,D,V]}class Ue extends _e{constructor(n){super(),oe(this,n,Pe,Ne,ae,{table:0})}}function we(e){let n=0;const l=je(e);for(e=Oe(e);n<20;){for(let s=1;s<=6;s++)e=Ce(e,s);if(Fe(e)&&Se(e))return[Me(e,l),{errorOccurred:!1}];n+=1}return[e,{errorOccurred:!0,message:"Passed max calculations count",code:500}]}function Ce(e,n){switch(n){case 1:q([e.AB,e.aB,e.B_ALL])&&(e.AB===null?e.AB=e.B_ALL-e.aB:e.aB===null?e.aB=e.B_ALL-e.AB:e.B_ALL&&(e.B_ALL=e.AB+e.aB));break;case 2:q([e.BA,e.ab,e.b_ALL])&&(e.BA===null?e.BA=e.b_ALL-e.ab:e.ab===null?e.ab=e.b_ALL-e.BA:e.b_ALL&&(e.b_ALL=e.BA+e.ab));break;case 3:q([e.AB,e.BA,e.A_ALL])&&(e.AB===null?e.AB=e.A_ALL-e.BA:e.BA===null?e.BA=e.A_ALL-e.AB:e.A_ALL&&(e.A_ALL=e.BA+e.AB));break;case 4:q([e.aB,e.ab,e.a_ALL])&&(e.aB===null?e.aB=e.a_ALL-e.ab:e.ab===null?e.ab=e.a_ALL-e.aB:e.A_ALL&&(e.a_ALL=e.aB+e.ab));break;case 5:q([e.B_ALL,e.b_ALL,e.ALL])&&(e.B_ALL===null?e.B_ALL=e.ALL-e.b_ALL:e.b_ALL===null?e.b_ALL=e.ALL-e.B_ALL:e.ALL&&(e.ALL=e.B_ALL+e.b_ALL));break;case 6:q([e.A_ALL,e.a_ALL,e.ALL])&&(e.A_ALL===null?e.A_ALL=e.ALL-e.a_ALL:e.a_ALL===null?e.a_ALL=e.ALL-e.A_ALL:e.ALL&&(e.ALL=e.A_ALL+e.a_ALL));break}return e}function q(e){let n=0;return e.forEach(l=>{l===null&&(n+=1)}),n<=1}function Fe(e){return e.AB!==null&&e.ALL!==null&&e.A_ALL!==null&&e.BA!==null&&e.B_ALL!==null&&e.aB!==null&&e.a_ALL!==null&&e.ab!==null&&e.b_ALL!==null}function Se(e){return e.AB+e.aB===e.B_ALL&&e.BA+e.ab===e.b_ALL&&e.AB+e.BA===e.A_ALL&&e.aB+e.ab===e.a_ALL&&e.A_ALL+e.a_ALL===e.ALL&&e.B_ALL+e.b_ALL===e.ALL}function Oe(e){return e.AB=e.AB===null?null:+e.AB,e.ALL=e.ALL===null?null:+e.ALL,e.A_ALL=e.A_ALL===null?null:+e.A_ALL,e.BA=e.BA===null?null:+e.BA,e.B_ALL=e.B_ALL===null?null:+e.B_ALL,e.aB=e.aB===null?null:+e.aB,e.a_ALL=e.a_ALL===null?null:+e.a_ALL,e.ab=e.ab===null?null:+e.ab,e.b_ALL=e.b_ALL===null?null:+e.b_ALL,e}function je(e){let n=0;for(const l in e){const s=(""+e[l]).split("").length;s>n&&(n=s)}return n<=2?n:n-2}function Me(e,n){const l={};for(const s in e)l[s]=De(e[s],n);return l}function Ae(e){let n,l;return n=new Ve({props:{message:e[2]}}),{c(){fe(n.$$.fragment)},l(s){ce(n.$$.fragment,s)},m(s,A){pe(n,s,A),l=!0},p(s,A){const g={};A&4&&(g.message=s[2]),n.$set(g)},i(s){l||(Y(n.$$.fragment,s),l=!0)},o(s){G(n.$$.fragment,s),l=!1},d(s){Be(n,s)}}}function Xe(e){let n,l,s,A,g,p,f=e[3]("stochastics.4-field-table.button-text")+"",T,d,B,D,V,U;function z(L){e[5](L)}let E={};e[0]!==void 0&&(E.table=e[0]),s=new Ue({props:E}),ve.push(()=>de(s,"table",z));let t=e[1]&&Ae(e);return{c(){n=_("div"),l=_("div"),fe(s.$$.fragment),g=m(),p=_("button"),T=R(f),d=m(),t&&t.c(),B=re(),this.h()},l(L){n=o(L,"DIV",{class:!0});var h=N(n);l=o(h,"DIV",{class:!0});var k=N(l);ce(s.$$.fragment,k),g=v(k),p=o(k,"BUTTON",{class:!0});var M=N(p);T=W(M,f),M.forEach(I),k.forEach(I),h.forEach(I),d=v(L),t&&t.l(L),B=re(),this.h()},h(){a(p,"class","calculate-button svelte-1u433f5"),a(l,"class","container svelte-1u433f5"),a(n,"class","centered svelte-1u433f5")},m(L,h){Z(L,n,h),i(n,l),pe(s,l,null),i(l,g),i(l,p),i(p,T),Z(L,d,h),t&&t.m(L,h),Z(L,B,h),D=!0,V||(U=P(p,"click",e[4]),V=!0)},p(L,[h]){const k={};!A&&h&1&&(A=!0,k.table=L[0],he(()=>A=!1)),s.$set(k),(!D||h&8)&&f!==(f=L[3]("stochastics.4-field-table.button-text")+"")&&ke(T,f),L[1]?t?(t.p(L,h),h&2&&Y(t,1)):(t=Ae(L),t.c(),Y(t,1),t.m(B.parentNode,B)):t&&(Te(),G(t,1,1,()=>{t=null}),Ie())},i(L){D||(Y(s.$$.fragment,L),Y(t),D=!0)},o(L){G(s.$$.fragment,L),G(t),D=!1},d(L){L&&I(n),Be(s),L&&I(d),t&&t.d(L),L&&I(B),V=!1,U()}}}function qe(e,n,l){let s;ge(e,Ee,d=>l(3,s=d));let A={AB:null,aB:null,BA:null,ab:null,A_ALL:null,a_ALL:null,B_ALL:null,b_ALL:null,ALL:null};function g(){const[d,B]=we(A);B.errorOccurred?(l(1,p=!0),l(2,f=B.message),setTimeout(()=>{l(1,p=!1),l(2,f="")},2e3)):l(0,A=d)}let p=!1,f="";function T(d){A=d,l(0,A)}return[A,p,f,s,g,T]}class Ze extends _e{constructor(n){super(),oe(this,n,qe,Xe,ae,{})}}export{Ze as default};
